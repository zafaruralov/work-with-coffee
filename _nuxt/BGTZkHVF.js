import{a as ae,J as De,K as P,L as me,M as Se,l as de,m as Me,N as Ce,n as H,k as L,d as F,O as Te,r as $,o as G,x as y,P as ge,y as g,Q as ue,R as i,S as ze,T as Ie,z as e,B as I,U as V,V as O,W as X,X as q,Y as S,A as j,Z as A,$ as oe,a0 as re,D as W,a1 as J,a2 as ve,a3 as le,a4 as ce,a5 as K,a6 as Y,a7 as te,_ as je,C as ee,a8 as Ue,a9 as Le,aa as ie}from"./DTvXI_SD.js";import{_ as Be}from"./BdYB85DA.js";const Re="$s";function Ae(...s){const o=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(o);const[r,n]=s;if(!r||typeof r!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+r);if(n!==void 0&&typeof n!="function")throw new Error("[nuxt] [useState] init must be a function: "+n);const a=Re+r,f=ae(),m=De(f.payload.state,a);if(m.value===void 0&&n){const c=n();if(P(c))return f.payload.state[a]=c,c;m.value=c}return m}async function Pe(s,o){return await Ve(o).catch(n=>(console.error("Failed to get image meta for "+o,n+""),{width:0,height:0,ratio:0}))}async function Ve(s){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((o,r)=>{const n=new Image;n.onload=()=>{const a={width:n.width,height:n.height,ratio:n.width/n.height};o(a)},n.onerror=a=>r(a),n.src=s})}function N(s=""){if(typeof s=="number")return s;if(typeof s=="string"&&s.replace("px","").match(/^\d+$/g))return Number.parseInt(s,10)}function qe(s=""){if(s===void 0||!s.length)return[];const o=new Set;for(const r of s.split(" ")){const n=Number.parseInt(r.replace("x",""));n&&o.add(n)}return Array.from(o)}function Ee(s){if(s.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Ne(s){const o={};if(typeof s=="string")for(const r of s.split(/[\s,]+/).filter(n=>n)){const n=r.split(":");n.length!==2?o["1px"]=n[0].trim():o[n[0].trim()]=n[1].trim()}else Object.assign(o,s);return o}function Oe(s){const o={options:s},r=(a,f={})=>be(o,a,f),n=(a,f={},m={})=>r(a,{...m,modifiers:me(f,m.modifiers||{})}).url;for(const a in s.presets)n[a]=(f,m,c)=>n(f,m,{...s.presets[a],...c});return n.options=s,n.getImage=r,n.getMeta=(a,f)=>Fe(o,a,f),n.getSizes=(a,f)=>Ke(o,a,f),o.$img=n,n}async function Fe(s,o,r){const n=be(s,o,{...r});return typeof n.getMeta=="function"?await n.getMeta():await Pe(s,n.url)}function be(s,o,r){var d,v;if(o&&typeof o!="string")throw new TypeError(`input must be a string (received ${typeof o}: ${JSON.stringify(o)})`);if(!o||o.startsWith("data:"))return{url:o};const{provider:n,defaults:a}=We(s,r.provider||s.options.provider),f=He(s,r.preset);if(o=de(o)?o:Se(o),!n.supportsAlias){for(const l in s.options.alias)if(o.startsWith(l)){const x=s.options.alias[l];x&&(o=Me(x,o.slice(l.length)))}}if(n.validateDomains&&de(o)){const l=Ce(o).host;if(!s.options.domains.find(x=>x===l))return{url:o}}const m=me(r,f,a);m.modifiers={...m.modifiers};const c=m.modifiers.format;(d=m.modifiers)!=null&&d.width&&(m.modifiers.width=N(m.modifiers.width)),(v=m.modifiers)!=null&&v.height&&(m.modifiers.height=N(m.modifiers.height));const p=n.getImage(o,m,s);return p.format=p.format||c||"",p}function We(s,o){const r=s.options.providers[o];if(!r)throw new Error("Unknown provider: "+o);return r}function He(s,o){if(!o)return{};if(!s.options.presets[o])throw new Error("Unknown preset: "+o);return s.options.presets[o]}function Ke(s,o,r){var w,z,U,_,u;const n=N((w=r.modifiers)==null?void 0:w.width),a=N((z=r.modifiers)==null?void 0:z.height),f=Ne(r.sizes),m=(U=r.densities)!=null&&U.trim()?qe(r.densities.trim()):s.options.densities;Ee(m);const c=n&&a?a/n:0,p=[],d=[];if(Object.keys(f).length>=1){for(const h in f){const M=pe(h,String(f[h]),a,c,s);if(M!==void 0){p.push({size:M.size,screenMaxWidth:M.screenMaxWidth,media:`(max-width: ${M.screenMaxWidth}px)`});for(const B of m)d.push({width:M._cWidth*B,src:fe(s,o,r,M,B)})}}Xe(p)}else for(const h of m){const M=Object.keys(f)[0];let B=M?pe(M,String(f[M]),a,c,s):void 0;B===void 0&&(B={size:"",screenMaxWidth:0,_cWidth:(_=r.modifiers)==null?void 0:_.width,_cHeight:(u=r.modifiers)==null?void 0:u.height}),d.push({width:h,src:fe(s,o,r,B,h)})}Ye(d);const v=d[d.length-1],l=p.length?p.map(h=>`${h.media?h.media+" ":""}${h.size}`).join(", "):void 0,x=l?"w":"x",T=d.map(h=>`${h.src} ${h.width}${x}`).join(", ");return{sizes:l,srcset:T,src:v==null?void 0:v.src}}function pe(s,o,r,n,a){const f=a.options.screens&&a.options.screens[s]||Number.parseInt(s),m=o.endsWith("vw");if(!m&&/^\d+$/.test(o)&&(o=o+"px"),!m&&!o.endsWith("px"))return;let c=Number.parseInt(o);if(!f||!c)return;m&&(c=Math.round(c/100*f));const p=n?Math.round(c*n):r;return{size:o,screenMaxWidth:f,_cWidth:c,_cHeight:p}}function fe(s,o,r,n,a){return s.$img(o,{...r.modifiers,width:n._cWidth?n._cWidth*a:void 0,height:n._cHeight?n._cHeight*a:void 0},r)}function Xe(s){var r;s.sort((n,a)=>n.screenMaxWidth-a.screenMaxWidth);let o=null;for(let n=s.length-1;n>=0;n--){const a=s[n];a.media===o&&s.splice(n,1),o=a.media}for(let n=0;n<s.length;n++)s[n].media=((r=s[n+1])==null?void 0:r.media)||""}function Ye(s){s.sort((r,n)=>r.width-n.width);let o=null;for(let r=s.length-1;r>=0;r--){const n=s[r];n.width===o&&s.splice(r,1),o=n.width}}const ye={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"static",domains:[],alias:{},densities:[1,2],format:["webp"]};ye.providers={};const xe=()=>{const s=H(),o=ae();return o.$img||o._img||(o._img=Oe({...ye,nuxt:{baseURL:s.app.baseURL},runtimeConfig:s}))};function Je(s){var o;(o=performance==null?void 0:performance.mark)==null||o.call(performance,"mark_feature_usage",{detail:{feature:s}})}const Ge={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:s=>["lazy","eager"].includes(s)},crossorigin:{type:[Boolean,String],required:!1,validator:s=>["anonymous","use-credentials","",!0,!1].includes(s)},decoding:{type:String,required:!1,validator:s=>["async","auto","sync"].includes(s)},nonce:{type:[String],required:!1}},Ze=s=>{const o=L(()=>({provider:s.provider,preset:s.preset})),r=L(()=>({width:N(s.width),height:N(s.height),alt:s.alt,referrerpolicy:s.referrerpolicy,usemap:s.usemap,longdesc:s.longdesc,ismap:s.ismap,crossorigin:s.crossorigin===!0?"anonymous":s.crossorigin||void 0,loading:s.loading,decoding:s.decoding,nonce:s.nonce})),n=xe(),a=L(()=>({...s.modifiers,width:N(s.width),height:N(s.height),format:s.format,quality:s.quality||n.options.quality,background:s.background,fit:s.fit}));return{options:o,attrs:r,modifiers:a}},Qe={...Ge,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1},custom:{type:Boolean,required:!1}},et=["src"],se=F({__name:"NuxtImg",props:Qe,emits:["load","error"],setup(s,{emit:o}){const r=s,n=Te(),a=o,f=!1,m=xe(),c=Ze(r),p=$(!1),d=$(),v=L(()=>m.getSizes(r.src,{...c.options.value,sizes:r.sizes,densities:r.densities,modifiers:{...c.modifiers.value,width:N(r.width),height:N(r.height)}})),l=L(()=>{const _={...c.attrs.value,"data-nuxt-img":""};return(!r.placeholder||p.value)&&(_.sizes=v.value.sizes,_.srcset=v.value.srcset),_}),x=L(()=>{let _=r.placeholder;if(_===""&&(_=!0),!_||p.value)return!1;if(typeof _=="string")return _;const u=Array.isArray(_)?_:typeof _=="number"?[_,_]:[10,10];return m(r.src,{...c.modifiers.value,width:u[0],height:u[1],quality:u[2]||50,blur:u[3]||3},c.options.value)}),T=L(()=>r.sizes?v.value.src:m(r.src,c.modifiers.value,c.options.value)),w=L(()=>x.value?x.value:T.value),U=ae().isHydrating;return G(()=>{if(x.value||r.custom){const _=new Image;T.value&&(_.src=T.value),r.sizes&&(_.sizes=v.value.sizes||"",_.srcset=v.value.srcset),_.onload=u=>{p.value=!0,a("load",u)},_.onerror=u=>{a("error",u)},Je("nuxt-image");return}d.value&&(d.value.complete&&U&&(d.value.getAttribute("data-error")?a("error",new Event("error")):a("load",new Event("load"))),d.value.onload=_=>{a("load",_)},d.value.onerror=_=>{a("error",_)})}),(_,u)=>_.custom?ge(_.$slots,"default",ze(ue({key:1},{...i(f)?{onerror:"this.setAttribute('data-error', 1)"}:{},imgAttrs:{...l.value,...i(n)},isLoaded:p.value,src:w.value}))):(g(),y("img",ue({key:0,ref_key:"imgEl",ref:d,class:x.value&&!p.value?_.placeholderClass:void 0},{...i(f)?{onerror:"this.setAttribute('data-error', 1)"}:{},...l.value,...i(n)},{src:w.value}),null,16,et))}}),Z=()=>{const s=Ae("modals",()=>[]),o=$(100);function r(p,d,v){const l=s.value.find(x=>x.id===p);if(l)l.isOpen=!0,l.isMinimized=!1,l.zIndex=++o.value;else{const x=s.value.length*50;s.value.push(Ie({id:p,title:d,component:v,isOpen:!0,position:{x,y:x},isMinimized:!1,zIndex:++o.value}))}}function n(p){const d=s.value.find(v=>v.id===p);d&&(d.isOpen=!1)}function a(p){const d=s.value.find(v=>v.id===p);d&&(d.isMinimized=!d.isMinimized)}function f(p,d){const v=s.value.find(l=>l.id===p);v&&(v.position=d)}function m(p){const d=s.value.findIndex(l=>l.id===p);if(d===-1)return;const v=s.value.splice(d,1)[0];s.value.push(v)}const c=L(()=>s.value.filter(p=>p.isOpen));return{modals:s,openModal:r,closeModal:n,minimizeModal:a,updateModalPosition:f,bringToFront:m,getOpenModals:c}},he=window.setInterval,tt={class:"flex h-11 items-center gap-1 rounded-md p-1 shadow-xs bg-primary border-secondary border-2 text-white relative justify-between"},ot={class:"px-4"},st=["src"],nt=["onClick"],rt={key:0,class:"absolute mt-2 w-56 bg-white text-black shadow-lg rounded p-2 z-999"},it={key:0,class:""},at={key:0,class:""},lt={class:"flex flex-col text-sm"},dt=["onClickOnce"],ut={key:1,class:"my-1"},ct={key:2,class:"select-none text-center px-3 py-2 items-center rounded-md text-red-600 hover:bg-[var(--accent)] hover:text-black transition cursor-pointer text-sm font-semibold"},pt={class:"taskbar-clock ml-auto flex items-center gap-3"},ft={class:"taskbar-clock ml-auto mr-2 text-sm font-medium whitespace-nowrap uppercase"},mt=F({__name:"TopbarActions",setup(s){const o=H().app.baseURL,{openModal:r}=Z(),a=H().public.appVersion,f=L(()=>`${H().app.baseURL}images/previus.svg`),m=[{name:"Menu",children:[{id:1,icon:"🔧",label:"Blog",component:"Music"},{id:2,icon:"📂",label:"Feedback"}]},{name:"Apps",children:[{id:3,icon:"⏰",label:"Timer",component:"Timer"},{id:4,icon:"📝",label:"To-Do List",component:"ToDoList"},{id:6,icon:"🎧",label:"Music Player",component:"Music"},{id:7,icon:"📓",label:"Notepad",component:"Music"},{id:8,icon:"🔖",label:"Bookmark",component:"Music"},{id:9,icon:"⚙️",label:"Settings",component:"Settings"}]},{name:"About",children:[{id:10,icon:"ℹ️",label:"Info",component:"Music"},{id:11,icon:"❤️",label:"Github"}]},{name:"Debt"}],c=x=>{x.component?(r(x.label,x.label,x.component),d.value=null):x.label==="Feedback"?window.open("https://t.me/uralovzafar","_blank"):x.label==="Github"&&window.open("http://github.com/zafaruralov/","_blank")},p=$(""),d=$(null);function v(){const x=new Date,T=x.getHours(),w=x.getMinutes(),z=T>=12?"PM":"AM",U=T%12||12,_=w.toString().padStart(2,"0");p.value=`${U}:${_} ${z}`}G(()=>{v(),he(v,1e3),window.addEventListener("click",x=>{x.target.closest(".dropdown-wrapper")||(d.value=null)})});function l(x){x==="Debt"?c({label:"Debt",component:"Debt"}):d.value=d.value===x?null:x}return(x,T)=>{const w=se;return g(),y("div",tt,[e("div",ot,[I(w,{src:`${i(o)}images/coffee.webp`,alt:"coffee",class:""},null,8,["src"]),I(w,{src:"/images/coffee.webp",alt:"coffee",class:""}),I(w,{src:`${("useRuntimeConfig"in x?x.useRuntimeConfig:i(H))().app.baseURL}images/previus.svg`,alt:"previus"},null,8,["src"]),I(w,{src:i(f),alt:"previus"},null,8,["src"]),e("img",{src:`${("useRuntimeConfig"in x?x.useRuntimeConfig:i(H))().app.baseURL}images/previus.svg`,alt:"previus"},null,8,st),I(w,{src:"images/previus.svg",alt:"previus"})]),(g(),y(V,null,O(m,z=>e("div",{key:z.name,class:"relative dropdown-wrapper"},[e("button",{onClick:S(U=>l(z.name),["stop"]),class:q(["flex items-center gap-2 rounded-sm px-3 py-1 text-sm font-medium hover:bg-[var(--accent)]",{"bg-[var(--accent)]":i(d)===z.name}])},j(z.name),11,nt),i(d)===z.name?(g(),y("div",rt,[z.name==="About"?(g(),y("div",it,[z.name==="About"?(g(),y("p",at,"version: "+j(i(a)),1)):X("",!0)])):X("",!0),e("ul",lt,[(g(!0),y(V,null,O(z.children,U=>(g(),y("li",{key:U.label,class:"px-3 py-2 hover:bg-[var(--accent)] flex items-center gap-2 cursor-pointer rounded-md hover:text-white",onClickOnce:_=>c(U)},[e("span",null,j(U.icon),1),A(e("span",null,j(U.label),513),[[oe,U.label]])],40,dt))),128))]),z.name==="Apps"?(g(),y("hr",ut)):X("",!0),z.name==="Apps"?(g(),y("button",ct," Reset System ")):X("",!0)])):X("",!0)])),64)),e("div",pt,[T[0]||(T[0]=e("div",{class:""},"should be sound and coffee",-1)),e("div",ft,j(i(p)),1)])])}}}),gt={class:"relative flex justify-center items-end h-full"},vt=["onClickOnce"],bt={class:"w-10 h-10 rounded-full flex items-center justify-center bg-[#a65330] transition-colors relative group"},yt=F({__name:"TopbarMenu",setup(s){const{openModal:o}=Z(),r=p=>{p.component&&o(p.label,p.label,p.component)},n=$(!1),a=[{id:3,icon:"⏰",label:"Timer",component:"Timer"},{id:4,icon:"📝",label:"To-Do List",component:"ToDoList"},{id:6,icon:"🎧",label:"Music Player",component:"Music"},{id:7,icon:"📓",label:"Notepad",component:"Music"},{id:8,icon:"🔖",label:"Bookmark",component:"Music"},{id:9,icon:"⚙️",label:"Settings",component:"Settings"}],f=()=>{n.value=!n.value},m=p=>["300","250","200","150","100","50"][p]||"0",c=p=>["bottom-[0%] left-[calc(42%)] delay-150","bottom-[13%] left-[calc(41%)] delay-100","bottom-[21%] left-[calc(46%)] delay-50","bottom-[22%] left-[calc(54%)] delay-150","bottom-[13%] left-[calc(60%)] delay-100","bottom-[0%] left-[calc(58%)] delay-200"][p]||"";return(p,d)=>(g(),y("nav",gt,[e("button",{onClick:f,class:q(["menu-toggle relative w-20 h-20 flex items-center justify-center text-base cursor-pointer z-10 rounded-full transform -translate-y-1/2 transition-all duration-200","bg-[#a65330] "])},d[0]||(d[0]=[e("span",{class:"text-white font-medium"},"Apps",-1)])),(g(),y(V,null,O(a,(v,l)=>e("li",{key:v.label,class:q(["absolute cursor-pointer bottom-[6%] left-1/2 transform -translate-x-1/2 transition-all duration-400",`delay-${m(l)}`,i(n)&&c(l)]),onClickOnce:x=>r(v)},[e("a",bt,[e("span",{class:q(["absolute top-0 left-0 transform -translate-y-full -translate-y-1 w-full text-xs whitespace-nowrap pointer-events-none transition-opacity duration-300 text-white font-bold text-center",i(n)?"opacity-100 delay-900":"opacity-0"])},j(v.label),3),e("span",null,j(v.icon),1)])],42,vt)),64))]))}}),xt={class:"flex flex-col gap-4 p-4"},ht={class:"relative"},wt=["src"],_t={class:"flex gap-2 flex-col"},kt={class:"flex flex-col items-center space-y-4"},$t={class:"flex justify-center items-center space-x-4 mb-4"},Dt={class:"p-2 rounded-full bg-secondary hover:bg-secondary/80 text-secondary-foreground","aria-label":"Previous"},St={class:"p-2 rounded-full bg-secondary hover:bg-secondary/80 text-secondary-foreground","aria-label":"Next"},Mt={class:"flex justify-center"},Ct=F({__name:"Music",setup(s){const o=H().app.baseURL,r=$(!1),n=$(null),a=$(70),f=$(!1),m=$(0),c=$(0),p=$(1),d=$([{title:"Cozy Room",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{title:"FKJ Live",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{title:"Ghibli Piano",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"},{title:"Jazzjeans",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4"}]),v=L(()=>T.value.videoUrl||"");function l(){r.value=!r.value,r.value&&re(()=>{n.value&&n.value.load()})}const x=()=>{n.value&&(m.value=n.value.duration,n.value.volume=a.value/100)},T=L(()=>d.value[p.value]||{title:"No Track",videoUrl:""}),w=()=>{n.value&&(c.value=n.value.currentTime,f.value=!n.value.paused)};function z(){n.value&&(f.value?n.value.pause():n.value.play().then(()=>{f.value=!0}).catch(_=>{console.warn("Could not play:",_)}))}const U=()=>{console.log("finished")};return G(()=>{re(()=>{n.value&&n.value.load()})}),(_,u)=>{const h=se;return g(),y("div",xt,[e("div",ht,[u[1]||(u[1]=W(" In Test regime ")),e("div",{class:q([{hidden:!i(r)},"aspect-video bg-black rounded-t-lg overflow-hidden"])},[e("video",{ref_key:"videoRef",ref:n,class:"w-full h-full object-cover",onLoadedmetadata:x,onTimeupdate:w,onEnded:U,controls:"",preload:"metadata"},[e("source",{src:i(v),type:"video/mp4"},null,8,wt),u[0]||(u[0]=W(" Your browser does not support the video tag. "))],544)],2)]),e("div",_t,[u[2]||(u[2]=e("h2",{class:"text-xl font-bold mb-2 truncate"},"Lo-fi Study",-1)),u[3]||(u[3]=e("div",{class:"w-full flex flex-col space-y-1"},[e("div",{class:"relative w-full h-5 cursor-pointer flex items-center"},[e("div",{"data-orientation":"horizontal",class:"flex touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col w-full absolute z-10 pointer-events-none"})])],-1)),e("div",kt,[e("div",$t,[e("button",Dt,[I(h,{src:`${i(o)}images/previus.svg`,alt:"previus"},null,8,["src"])]),e("button",{onClick:z,class:"p-3 rounded-full bg-primary hover:bg-primary/90 text-primary-foreground","aria-label":"Play"},[i(f)?(g(),J(h,{key:0,src:"/images/pouse.svg",alt:"pouse"})):(g(),J(h,{key:1,src:"/images/start.svg",alt:"start"}))]),e("button",St,[I(h,{src:`${i(o)}images/previus.svg`,alt:"previus",class:"rotate-180"},null,8,["src"])]),e("div",Mt,[e("button",{onClick:l,class:"px-3 py-1 text-sm rounded-md border border-border bg-muted flex items-center gap-2"},[I(h,{src:`${i(o)}images/video.svg`,alt:"video svg"},null,8,["src"]),W(" "+j(i(r)?"Hide Video":"Show Video"),1)])])])])])])}}}),Tt={class:"bg-white p-4 flex flex-col justify-start items-center h-full gap-6 shadow-lg rounded-xl"},zt={class:"flex flex-col gap-2 items-center"},It={class:"text-2xl font-semibold"},jt={class:"text-6xl font-mono mb-6 tabular-nums"},Ut={class:"flex gap-2"},Lt={class:"py-4 w-full flex gap-2 text-center text-xs justify-center max-w-md mx-auto"},Bt={class:"border px-6 py-2 rounded-md"},Rt={class:"font-semibold text-muted-foreground uppercase tracking-wider"},At={class:"border px-6 py-2 rounded-md"},Pt={class:"font-semibold text-muted-foreground uppercase tracking-wider"},Vt={class:"border px-6 py-2 rounded-md"},qt={class:"font-semibold text-muted-foreground uppercase tracking-wider"},Et={class:"border-t py-4 w-full"},Nt={class:"flex flex-col gap-2 justify-center"},Ot={class:"flex items-start gap-2 p-2 cursor-pointer rounded hover:bg-gray-100"},Ft={class:"flex items-start gap-2 p-2 cursor-pointer rounded hover:bg-gray-100"},Wt=F({__name:"Timer",setup(s){const o=$("work"),r=$(25*60),n=$(!1),a=$(null),f=$(null),m=$(.7),c=$({today:{sessions:0,time:"0m"},streak:{days:0},month:{sessions:0,time:"0m"}}),p=L(()=>o.value==="work"?"Work":"Short Break"),d=L(()=>{const u=Math.floor(r.value/60),h=r.value%60;return`${u.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`}),v=()=>o.value==="work"?25*60:5*60,l=()=>{n.value?T():x()},x=()=>{n.value=!0,a.value=he(()=>{r.value>0?r.value--:z()},1e3)},T=()=>{n.value=!1,a.value&&(clearInterval(a.value),a.value=null)},w=()=>{T(),r.value=v()},z=()=>{T(),f.value&&(f.value.volume=m.value,f.value.currentTime=0,f.value.play().catch(u=>{console.error("Error playing sound:",u)})),o.value==="work"&&(c.value.today.sessions++,c.value.month.sessions++),w()},U=()=>{w()};function _(){f.value&&(f.value.pause(),f.value.currentTime=0,f.value.src="",f.value.load(),f.value=null)}return G(()=>{r.value=v(),f.value=new Audio("/godzilla-roars-59572.mp3")}),ve(()=>{a.value&&clearInterval(a.value),_()}),le(o,U),(u,h)=>(g(),y("div",Tt,[e("div",zt,[e("span",It,j(i(p)),1),e("div",jt,j(i(d)),1),e("div",Ut,[e("button",{onClick:l,class:"cursor-pointer px-12 py-2 rounded text-white transition min-w-[120px] bg-primary hover:bg-secondary"},j(i(n)?"Pause":"Start"),1),e("button",{onClick:w,class:"cursor-pointer px-2 py-2 bg-gray-300 text-secondary rounded hover:bg-background transition"}," reset ")])]),e("div",Lt,[e("div",Bt,[h[2]||(h[2]=e("h1",{class:"font-semibold text-muted-foreground uppercase tracking-wider"},"Today",-1)),e("span",Rt,j(i(c).today.sessions),1)]),e("div",At,[h[3]||(h[3]=e("h1",{class:"font-semibold text-muted-foreground uppercase tracking-wider"},"Streak",-1)),e("span",Pt,j(i(c).streak.days),1)]),e("div",Vt,[h[4]||(h[4]=e("h1",{class:"font-semibold text-muted-foreground uppercase tracking-wider"},"Month",-1)),e("span",qt,j(i(c).month.sessions),1)])]),e("div",Et,[h[7]||(h[7]=e("h1",{class:"text-sm font-medium mb-2 text-center"},"Timer Settings",-1)),e("div",Nt,[e("label",Ot,[A(e("input",{type:"radio",name:"timerSetting","onUpdate:modelValue":h[0]||(h[0]=M=>P(o)?o.value=M:null),value:"work",class:"w-4 h-4 text-amber-600 focus:ring-amber-500"},null,512),[[ce,i(o)]]),h[5]||(h[5]=e("div",{class:""},[e("h1",{class:"font-medium"},"Work (25min)"),e("span",{class:"text-xs text-gray-500"}," Focus time for maximum productivity. Recorded in session log ")],-1))]),e("label",Ft,[A(e("input",{type:"radio",name:"timerSetting","onUpdate:modelValue":h[1]||(h[1]=M=>P(o)?o.value=M:null),value:"shortBreak",class:"w-4 h-4 text-amber-600 focus:ring-amber-500"},null,512),[[ce,i(o)]]),h[6]||(h[6]=e("div",{class:""},[e("h1",{class:"font-medium"},"Short Break (5min)"),e("span",{class:"text-xs text-gray-500"}," Quick refreshment between work sessions ")],-1))])])])]))}}),Ht={class:"p-4 flex gap-4 flex-col h-full bg-stone-50 shadow-lg rounded-xl"},Kt={class:"flex"},Xt={class:"flex-grow overflow-y-auto flex flex-col gap-4"},Yt={class:"bg-stone-200 px-3 py-2 rounded flex justify-between items-center"},Jt={class:"ml-2 bg-amber-50 text-accent rounded-full w-6 h-6 flex items-center justify-center text-xs"},Gt={class:"bg-gray-50"},Zt={key:0,class:"text-gray-400 text-center italic text-sm py-6 border border-dashed border-gray-300 my-2 mx-2 rounded bg-gray-50"},Qt=["onDragover","onDrop"],eo={class:"flex flex-col justify-center items-start relative w-full"},to={class:"flex w-full items-center"},oo=["onDragstart"],so=["onBlur","onKeyup"],no={class:"flex items-center justify-between w-full mt-2"},ro={class:"flex items-center justify-end gap-1"},io=["onUpdate:modelValue","onChange"],ao=["onClick"],lo={class:"relative hover:bg-blue-200 p-1 rounded"},uo=["onClick"],co={class:"relative hover:bg-red-200 p-1 rounded"},po={class:"bg-stone-200 px-3 py-2 rounded flex justify-between items-center"},fo={class:"ml-2 bg-amber-50 text-accent rounded-full w-6 h-6 flex items-center justify-center text-xs"},mo={class:"bg-gray-50"},go=["onDragover","onDrop"],vo={class:"flex flex-col justify-center items-start relative w-full"},bo={class:"flex w-full items-center"},yo=["onDragstart"],xo=["onBlur","onKeyup"],ho={class:"flex items-center justify-between w-full mt-2"},wo={class:"flex items-center justify-end gap-1"},_o=["onUpdate:modelValue","onChange"],ko=["onClick"],$o={class:"relative hover:bg-blue-200 p-1 rounded"},Do=["onClick"],So={class:"relative hover:bg-red-200 p-1 rounded"},Mo={class:""},Co={class:"bg-stone-200 px-3 py-2 rounded flex justify-between items-center"},To={class:"ml-2 bg-amber-50 text-accent rounded-full w-6 h-6 flex items-center justify-center text-xs"},zo={key:0,class:"bg-gray-50"},Io=["onDragover","onDrop"],jo={class:"flex flex-col justify-center items-start relative w-full"},Uo={class:"flex w-full items-center"},Lo=["onDragstart"],Bo=["onBlur","onKeyup"],Ro={class:"flex items-center justify-between w-full mt-2"},Ao={class:"flex items-center justify-end gap-1"},Po=["onUpdate:modelValue","onChange"],Vo=["onClick"],qo={class:"relative hover:bg-blue-200 p-1 rounded"},Eo=["onClick"],No={class:"relative hover:bg-red-200 p-1 rounded"},Oo=F({__name:"ToDoList",setup(s){const o=H().app.baseURL,r=$(""),n=$([]),a=$(null),f=$(-1),m=$(null),c=$(""),p=$({todo:!1,inprogress:!1,done:!1}),d=L(()=>n.value.filter(D=>D.status==="todo").sort((D,t)=>D.order-t.order)),v=L(()=>n.value.filter(D=>D.status==="inprogress").sort((D,t)=>D.order-t.order)),l=L(()=>n.value.filter(D=>D.status==="done").sort((D,t)=>D.order-t.order)),x=()=>{if(r.value.trim()){const D=d.value.length>0?Math.max(...d.value.map(C=>C.order))+1:0,t={id:Date.now(),text:r.value.trim(),status:"todo",order:D};n.value.push(t),r.value=""}},T=D=>{const t=n.value.findIndex(C=>C.id===D);t!==-1&&n.value.splice(t,1)},w=D=>{m.value=D.id,c.value=D.text,re(()=>{const t=document.querySelector('input[ref="editInput"]');t&&(t.focus(),t.select())})},z=D=>{c.value.trim()&&(D.text=c.value.trim()),m.value=null,c.value=""},U=()=>{m.value=null,c.value=""},_=D=>{let t;D.status==="todo"?t=d.value:D.status==="inprogress"?t=v.value:t=l.value;const C=t.length>0?Math.max(...t.map(b=>b.order))+1:0;D.order=C},u=D=>{p.value[D]=!p.value[D]},h=(D,t,C)=>{D.dataTransfer&&(a.value=t,f.value=C,D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("text/plain",t.id.toString()),D.stopPropagation())},M=()=>{a.value=null,f.value=-1},B=(D,t,C)=>{D.preventDefault(),D.stopPropagation(),D.dataTransfer.dropEffect="move"},E=(D,t,C)=>{if(D.preventDefault(),D.stopPropagation(),!a.value)return;const b=a.value;let R;if(C==="todo"?R=[...d.value]:C==="inprogress"?R=[...v.value]:R=[...l.value],b.status!==C&&(b.status=C),b.status===C){const k=R.findIndex(ne=>ne.id===b.id);k!==-1&&(R.splice(k,1),k<t&&t--)}R.splice(t,0,b),R.forEach((k,ne)=>{k.order=ne}),a.value=null,f.value=-1},Q=(D,t)=>{if(D.preventDefault(),D.stopPropagation(),!a.value)return;a.value.status=t;let C;t==="todo"?C=d.value:t==="inprogress"?C=v.value:C=l.value;const b=C.length>0?Math.max(...C.map(R=>R.order))+1:0;a.value.order=b,a.value=null};return(D,t)=>{const C=se;return g(),y("div",Ht,[e("div",Kt,[A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=b=>P(r)?r.value=b:null),onKeyup:K(x,["enter"]),type:"text",class:"flex-grow bg-white p-2 border border-gray-300 rounded-l min-w-0",placeholder:"Add a new task"},null,544),[[Y,i(r)]]),e("button",{class:"bg-[#6f4018] text-white px-4 py-2 rounded-r hover:bg-accent",onClick:x},"+")]),e("div",Xt,[e("div",null,[e("div",Yt,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable",class:"cursor-grab mr-2 touch-none",onMousedown:t[1]||(t[1]=S(()=>{},["stop"])),onDragstart:t[2]||(t[2]=S(()=>{},["prevent"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle icon"},null,8,["src"])],32),e("h3",{class:"font-semibold flex items-center text-primary flex-grow cursor-pointer",onClick:t[3]||(t[3]=b=>u("todo"))},[t[53]||(t[53]=W(" To Do ")),e("span",Jt,j(i(d).length),1)]),e("span",{class:"cursor-pointer",onClick:t[4]||(t[4]=b=>u("todo"))},[I(C,{class:q([i(p).todo&&"rotate-[-90deg]","transition-all"]),src:"/images/dropIcon.svg",alt:"drop icon"},null,8,["class"])])]),A(e("ul",Gt,[i(d).length===0?(g(),y("div",Zt," Drop tasks here ")):(g(!0),y(V,{key:1},O(i(d),(b,R)=>(g(),y("li",{class:"bg-white p-3 my-1 rounded",style:{transition:"transform linear"},key:b.id,onDragover:S(k=>B(k),["prevent"]),onDrop:k=>E(k,R,"todo")},[e("div",eo,[e("div",to,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable",class:"cursor-grab mr-2 touch-none",draggable:"true",onDragstart:k=>h(k,b,R),onDragend:M,onMousedown:t[5]||(t[5]=S(()=>{},["stop"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle",class:"w-4 opacity-55"},null,8,["src"])],40,oo),i(m)===b.id?A((g(),y("input",{key:0,"onUpdate:modelValue":t[6]||(t[6]=k=>P(c)?c.value=k:null),onBlur:k=>z(b),onKeyup:[K(k=>z(b),["enter"]),K(U,["escape"])],onMousedown:t[7]||(t[7]=S(()=>{},["stop"])),onDragstart:t[8]||(t[8]=S(()=>{},["prevent"])),class:"flex-grow border-2 border-blue-500 rounded px-2 py-1 focus:outline-none",ref_for:!0,ref:"editInput"},null,40,so)),[[Y,i(c)]]):(g(),y("span",{key:1,onMousedown:t[9]||(t[9]=S(()=>{},["stop"])),onDragstart:t[10]||(t[10]=S(()=>{},["prevent"])),class:"flex-grow text-sm px-2 py-1 rounded"},j(b.text),33))]),e("div",no,[t[55]||(t[55]=e("div",{class:"flex items-center justify-start ml-1"},null,-1)),e("div",ro,[A(e("select",{"onUpdate:modelValue":k=>b.status=k,onChange:k=>_(b),onMousedown:t[11]||(t[11]=S(()=>{},["stop"])),onDragstart:t[12]||(t[12]=S(()=>{},["prevent"])),class:"text-xs bg-transparent border rounded"},t[54]||(t[54]=[e("option",{value:"todo"},"To Do",-1),e("option",{value:"inprogress"},"In Progress",-1),e("option",{value:"done"},"Done",-1)]),40,io),[[te,b.status]]),e("button",{onClick:k=>w(b),onMousedown:t[13]||(t[13]=S(()=>{},["stop"])),onDragstart:t[14]||(t[14]=S(()=>{},["prevent"]))},[e("div",lo,[I(C,{src:`${i(o)}images/pen.svg`,alt:"pen",class:"w-[14px]"},null,8,["src"])])],40,ao),e("button",{onClick:k=>T(b.id),onMousedown:t[15]||(t[15]=S(()=>{},["stop"])),onDragstart:t[16]||(t[16]=S(()=>{},["prevent"]))},[e("div",co,[I(C,{src:`${i(o)}images/delete.svg`,alt:"delete",class:"w-[14px]"},null,8,["src"])])],40,uo)])])])],40,Qt))),128))],512),[[oe,!i(p).todo]])]),e("div",null,[e("div",po,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable",class:"cursor-grab mr-2 touch-none",onMousedown:t[17]||(t[17]=S(()=>{},["stop"])),onDragstart:t[18]||(t[18]=S(()=>{},["prevent"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle icon"},null,8,["src"])],32),e("h3",{class:"font-semibold flex items-center text-primary flex-grow cursor-pointer",onClick:t[19]||(t[19]=b=>u("inprogress"))},[t[56]||(t[56]=W(" In Progress ")),e("span",fo,j(i(v).length),1)]),e("span",{class:"cursor-pointer",onClick:t[20]||(t[20]=b=>u("inprogress"))},[I(C,{class:q([i(p).inprogress&&"rotate-[-90deg]","transition-all"]),src:"/images/dropIcon.svg",alt:"drop icon"},null,8,["class"])])]),A(e("ul",mo,[i(v).length===0?(g(),y("div",{key:0,class:"text-gray-400 text-center italic text-sm py-6 border border-dashed border-gray-300 my-2 mx-2 rounded bg-gray-50",onDragover:t[21]||(t[21]=S(()=>{},["prevent"])),onDrop:t[22]||(t[22]=b=>Q(b,"inprogress"))}," Drop tasks here ",32)):(g(!0),y(V,{key:1},O(i(v),(b,R)=>(g(),y("li",{key:b.id,class:"bg-white p-3 my-1 rounded",style:{transition:"transform linear"},onDragover:S(k=>B(k),["prevent"]),onDrop:k=>E(k,R,"inprogress")},[e("div",vo,[e("div",bo,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable","aria-describedby":"DndDescribedBy-1",class:"cursor-grab mr-2 touch-none",draggable:"true",onDragstart:k=>h(k,b,R),onDragend:M,onMousedown:t[23]||(t[23]=S(()=>{},["stop"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle",class:"w-4 opacity-55"},null,8,["src"])],40,yo),i(m)===b.id?A((g(),y("input",{key:0,"onUpdate:modelValue":t[24]||(t[24]=k=>P(c)?c.value=k:null),onBlur:k=>z(b),onKeyup:[K(k=>z(b),["enter"]),K(U,["escape"])],onMousedown:t[25]||(t[25]=S(()=>{},["stop"])),onDragstart:t[26]||(t[26]=S(()=>{},["prevent"])),class:"flex-grow border-2 border-blue-500 rounded px-2 py-1 focus:outline-none",ref_for:!0,ref:"editInput"},null,40,xo)),[[Y,i(c)]]):(g(),y("span",{key:1,onMousedown:t[27]||(t[27]=S(()=>{},["stop"])),onDragstart:t[28]||(t[28]=S(()=>{},["prevent"])),class:"flex-grow text-sm px-2 py-1 rounded"},j(b.text),33))]),e("div",ho,[t[58]||(t[58]=e("div",{class:"flex items-center justify-start ml-1"},null,-1)),e("div",wo,[A(e("select",{"onUpdate:modelValue":k=>b.status=k,onChange:k=>_(b),onMousedown:t[29]||(t[29]=S(()=>{},["stop"])),onDragstart:t[30]||(t[30]=S(()=>{},["prevent"])),class:"text-xs bg-transparent border rounded"},t[57]||(t[57]=[e("option",{value:"todo"},"To Do",-1),e("option",{value:"inprogress"},"In Progress",-1),e("option",{value:"done"},"Done",-1)]),40,_o),[[te,b.status]]),e("button",{onClick:k=>w(b),onMousedown:t[31]||(t[31]=S(()=>{},["stop"])),onDragstart:t[32]||(t[32]=S(()=>{},["prevent"]))},[e("div",$o,[I(C,{src:`${i(o)}images/pen.svg`,alt:"pen",class:"w-[14px]"},null,8,["src"])])],40,ko),e("button",{onClick:k=>T(b.id),onMousedown:t[33]||(t[33]=S(()=>{},["stop"])),onDragstart:t[34]||(t[34]=S(()=>{},["prevent"]))},[e("div",So,[I(C,{src:`${i(o)}images/delete.svg`,alt:"delete",class:"w-[14px]"},null,8,["src"])])],40,Do)])])])],40,go))),128))],512),[[oe,!i(p).inprogress]])]),e("div",Mo,[e("div",Co,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable",class:"cursor-grab mr-2 touch-none",onMousedown:t[35]||(t[35]=S(()=>{},["stop"])),onDragstart:t[36]||(t[36]=S(()=>{},["prevent"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle icon"},null,8,["src"])],32),e("h3",{class:"font-semibold flex items-center text-primary flex-grow cursor-pointer",onClick:t[37]||(t[37]=b=>u("done"))},[t[59]||(t[59]=W(" Done ")),e("span",To,j(i(l).length),1)]),e("span",{class:"cursor-pointer",onClick:t[38]||(t[38]=b=>u("done"))},[I(C,{class:q([i(p).done&&"rotate-[-90deg]","transition-all"]),src:"/images/dropIcon.svg",alt:"drop icon"},null,8,["class"])])]),i(p).done?X("",!0):(g(),y("ul",zo,[i(l).length===0?(g(),y("div",{key:0,class:"text-gray-400 text-center italic text-sm py-6 border border-dashed border-gray-300 my-2 mx-2 rounded bg-gray-50",onDragover:t[39]||(t[39]=S(()=>{},["prevent"])),onDrop:t[40]||(t[40]=b=>Q(b,"done"))}," Drop tasks here ",32)):(g(!0),y(V,{key:1},O(i(l),(b,R)=>(g(),y("li",{key:b.id,class:"bg-white p-3 my-1 rounded",style:{transition:"transform linear"},onDragover:S(k=>B(k),["prevent"]),onDrop:k=>E(k,R,"done")},[e("div",jo,[e("div",Uo,[e("div",{role:"button",tabindex:"0","aria-disabled":"false","aria-roledescription":"sortable","aria-describedby":"DndDescribedBy-1",class:"cursor-grab mr-2 touch-none",draggable:"true",onDragstart:k=>h(k,b,R),onDragend:M,onMousedown:t[41]||(t[41]=S(()=>{},["stop"]))},[I(C,{src:`${i(o)}images/handle.svg`,alt:"handle",class:"w-4 opacity-55"},null,8,["src"])],40,Lo),i(m)===b.id?A((g(),y("input",{key:0,"onUpdate:modelValue":t[42]||(t[42]=k=>P(c)?c.value=k:null),onBlur:k=>z(b),onKeyup:[K(k=>z(b),["enter"]),K(U,["escape"])],onMousedown:t[43]||(t[43]=S(()=>{},["stop"])),onDragstart:t[44]||(t[44]=S(()=>{},["prevent"])),class:"flex-grow border-2 border-blue-500 rounded px-2 py-1 focus:outline-none",ref_for:!0,ref:"editInput"},null,40,Bo)),[[Y,i(c)]]):(g(),y("span",{key:1,onMousedown:t[45]||(t[45]=S(()=>{},["stop"])),onDragstart:t[46]||(t[46]=S(()=>{},["prevent"])),class:"flex-grow text-sm px-2 py-1 rounded"},j(b.text),33))]),e("div",Ro,[t[61]||(t[61]=e("div",{class:"flex items-center justify-start ml-1"},null,-1)),e("div",Ao,[A(e("select",{"onUpdate:modelValue":k=>b.status=k,onChange:k=>_(b),onMousedown:t[47]||(t[47]=S(()=>{},["stop"])),onDragstart:t[48]||(t[48]=S(()=>{},["prevent"])),class:"text-xs bg-transparent border rounded"},t[60]||(t[60]=[e("option",{value:"todo"},"To Do",-1),e("option",{value:"inprogress"},"In Progress",-1),e("option",{value:"done"},"Done",-1)]),40,Po),[[te,b.status]]),e("button",{onClick:k=>w(b),onMousedown:t[49]||(t[49]=S(()=>{},["stop"])),onDragstart:t[50]||(t[50]=S(()=>{},["prevent"]))},[e("div",qo,[I(C,{src:`${i(o)}images/pen.svg`,alt:"pen",class:"w-[14px]"},null,8,["src"])])],40,Vo),e("button",{onClick:k=>T(b.id),onMousedown:t[51]||(t[51]=S(()=>{},["stop"])),onDragstart:t[52]||(t[52]=S(()=>{},["prevent"]))},[e("div",No,[I(C,{src:`${i(o)}images/delete.svg`,alt:"delete",class:"w-[14px]"},null,8,["src"])])],40,Eo)])])])],40,Io))),128))]))])])])}}}),we=[{id:1,url:"/images/ghibli.webp"},{id:2,url:"/images/ghibli-2.webp"},{id:3,url:"/images/japan-cafe.webp"}],Fo=["fit","fill","stretch","tile","center"],_e=$(we[0].url),ke=$("fill"),Wo=L(()=>{const s={backgroundImage:`url(${_e.value})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};switch(ke.value){case"fit":s.backgroundSize="contain";break;case"fill":s.backgroundSize="cover";break;case"stretch":s.backgroundSize="100% 100%";break;case"tile":s.backgroundRepeat="repeat",s.backgroundSize="auto";break;case"center":s.backgroundSize="auto",s.backgroundPosition="center";break}return s}),$e=()=>({selectedImage:_e,selectedFit:ke,backgroundStyle:Wo,backgroundImage:we,fitOptions:Fo}),Ho={class:"flex flex-col items-center justify-start text-secondary h-full p-4 shadow-lg rounded-xl"},Ko={class:"w-full flex flex-col gap-8"},Xo={class:"flex flex-col gap-8 items-center justify-start text-secondary h-full"},Yo={class:"grid grid-cols-2 gap-2 sm:grid-cols-4 mb-4 w-full"},Jo={key:1,class:"text-sm font-medium text-muted-foreground z-10"},Go={class:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4"},Zo=["onClick"],Qo={class:"w-full"},es={class:"relative"},ts=["value"],os=F({__name:"Settings",props:{modalConfig:{}},setup(s){const{selectedImage:o,selectedFit:r,backgroundImage:n,fitOptions:a}=$e(),f=s,{closeModal:m}=Z(),c=$(o.value),p=$(r.value),d=$(null),v=$(0);let l=null;const x=_=>{const u=_.target;if(u.files&&u.files[0]){const h=u.files[0],M=new FileReader;M.onload=B=>{var E;(E=B.target)!=null&&E.result&&(d.value=B.target.result,c.value=B.target.result)},M.readAsDataURL(h)}},T=_=>{v.value++,l=setTimeout(()=>{v.value=0,l=null},5e3),v.value===3?(c.value="/images/girl-on-back.jpg",v.value=0,r.value="fit",l&&(clearTimeout(l),l=null)):c.value=_,U()},w=()=>{o.value=""},z=()=>{m(f.modalConfig.id)},U=()=>{o.value=c.value,r.value=p.value};return(_,u)=>{const h=se;return g(),y("div",Ho,[e("div",Ko,[u[4]||(u[4]=e("div",{class:"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid grid-cols-2 gap-2"},[e("div",{"data-state":"active",class:"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm flex items-center min-w-fit gap-2 data-[state=active]:bg-[#a65330] data-[state=active]:text-white"}," Background "),e("div",{"data-state":"inactive",class:"justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm flex items-center min-w-fit gap-2 data-[state=active]:bg-[#a65330] data-[state=active]:text-white"}," Sound ")],-1)),e("div",Xo,[e("div",null,[e("div",Yo,[e("div",{class:"cursor-pointer border-2 transition-colors border-muted hover:border-primary/50 bg-muted rounded-md overflow-hidden flex items-center justify-center h-[60px] sm:h-[70px]",role:"button",tabindex:"0",onClick:w},u[2]||(u[2]=[e("div",{class:"text-center text-xs sm:text-sm font-medium"},"No Image",-1)])),e("div",{class:"cursor-pointer border-2 transition-colors relative border-primary rounded-md overflow-hidden flex items-center justify-center h-[60px] sm:h-[70px]",role:"button",tabindex:"0",onClick:u[0]||(u[0]=M=>_.$refs.fileInput.click())},[i(d)?(g(),J(h,{key:0,src:i(d),alt:"Uploaded Background",decoding:"async",class:"object-cover opacity-80 transition-opacity",style:{position:"absolute",height:"100%",width:"100%",inset:"0px",color:"transparent"}},null,8,["src"])):(g(),y("span",Jo,"+ Upload")),e("input",{ref:"fileInput",accept:"image/*",class:"hidden",type:"file",onChange:x},null,544)])]),e("div",Go,[(g(!0),y(V,null,O(i(n),M=>(g(),y("div",{key:M.id,onClick:B=>T(M.url),class:q([i(c)===M.url?"outline":"border-transparent hover:border-gray-300","cursor-pointer transition-colors rounded-md overflow-hidden aspect-video"])},[I(h,{src:M.url,alt:"Background option",class:"object-cover w-full h-full"},null,8,["src"])],10,Zo))),128))])]),e("div",Qo,[u[3]||(u[3]=e("label",{class:"block text-sm font-medium mb-2",for:"fit-selector"},"Image Fit",-1)),e("div",es,[A(e("select",{"onUpdate:modelValue":u[1]||(u[1]=M=>P(p)?p.value=M:null),class:"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 w-full"},[(g(!0),y(V,null,O(i(a),M=>(g(),y("option",{key:M,value:M},j(M.charAt(0).toUpperCase()+M.slice(1)),9,ts))),128))],512),[[te,i(p)]])])]),e("div",{class:"flex justify-end gap-2 w-full mt-4"},[e("button",{onClick:z,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 cursor-pointer"}," Cancel "),e("button",{onClick:U,class:"px-4 py-2 bg-[#a65330] text-white rounded-md hover:bg-[#8a4529] cursor-pointer"}," Apply ")])])])])}}}),ss={};function ns(s,o){return g(),y(V,null,[o[0]||(o[0]=e("div",{class:""},null,-1)),o[1]||(o[1]=e("a",{href:"https://t.me/uralovzafar",target:"_blank",rel:"noopener noreferrer",class:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded text-center"}," Open Telegram ",-1))],64)}const rs=je(ss,[["render",ns]]),is=["disabled"],as={__name:"DynamicButton",props:{color:{type:String,default:"default"},variant:String,size:String,disabled:Boolean,icon:Boolean,badge:Boolean,badgeText:String,badgePosition:{type:String,default:"in-block"},grouped:Boolean},setup(s){const o=s;L(()=>o.variant||"solid"),L(()=>o.size||"medium");const r=L(()=>o.disabled||!1);L(()=>o.icon||!1),L(()=>o.badge||!1);const n=L(()=>["btn-base",`btn-${o.color||"primary"}`,`btn-${o.variant||"solid"}`,`btn-${o.size||"medium"}`,o.disabled&&"btn-disabled",o.icon&&"btn-with-icon",o.badge&&"btn-with-badge"]);return(a,f)=>(g(),y("button",{class:q(n.value),disabled:r.value},[ge(a.$slots,"default")],10,is))}},ls={class:"flex flex-col items-center justify-start text-secondary h-full p-4 shadow-lg rounded-xl"},ds={class:"w-full flex flex-col gap-8"},us={class:"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid grid-cols-2 gap-2"},cs=["data-state"],ps=["data-state"],fs={class:"relative"},ms={key:0,class:"flex flex-col gap-3"},gs={key:1,class:"flex flex-col gap-3"},vs={key:0},bs={key:1},ys={key:2,class:"space-y-2 max-h-[420px] overflow-auto no-scrollbar"},xs={class:"font-semibold"},hs={class:"text-xs text-gray-500"},ws={class:"flex gap-1.5"},_s={key:0,class:"flex gap-1.5 ml-auto"},ks={key:1,class:""},$s=F({__name:"Debt",setup(s){const o=$("Set");$("+");const r=$(""),n=$(""),a=$(null),f=$(null),m=$([]),c=$(!1),p=[{id:1,name:"China"},{id:2,name:"India"},{id:3,name:"nigeria"}];le(o,async v=>{if(v==="Check"){c.value=!0;try{const l=await $fetch("http://localhost:3001/api/debts");m.value=l}catch(l){console.error("Failed to fetch debts",l),m.value=[]}finally{c.value=!1}}},{immediate:!0});async function d(v){var z,U;const l=(z=a.value)==null?void 0:z.name,x=(U=f.value)==null?void 0:U.name,T=r.value,w=n.value;await $fetch("http://localhost:3001/api/send-check",{method:"POST",body:{name:l,owned:x,debt:T,definition:w,sym:v}})}return(v,l)=>{const x=Be,T=as;return g(),y("div",ls,[e("div",ds,[e("div",us,[e("div",{"data-state":i(o)==="Set"?"active":"inactive",onClick:l[0]||(l[0]=w=>o.value="Set"),class:"cursor-pointer justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm flex items-center min-w-fit gap-2 data-[state=active]:bg-[#a65330] data-[state=active]:text-white"}," Set ",8,cs),e("div",{"data-state":i(o)==="Check"?"active":"inactive",onClick:l[1]||(l[1]=w=>o.value="Check"),class:"cursor-pointer justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm flex items-center min-w-fit gap-2 data-[state=active]:bg-[#a65330] data-[state=active]:text-white"}," Check ",8,ps)]),e("div",fs,[I(Ue,{name:"fade",mode:"out-in","enter-active-class":"transition-opacity duration-300","leave-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","leave-to-class":"opacity-0"},{default:ee(()=>[(g(),y("div",{key:i(o)},[i(o)==="Set"?(g(),y("div",ms,[I(x,{modelValue:i(a),"onUpdate:modelValue":l[2]||(l[2]=w=>P(a)?a.value=w:null),options:p,placeholder:"who are you","display-key":"name","value-key":"id"},null,8,["modelValue"]),I(x,{modelValue:i(f),"onUpdate:modelValue":l[3]||(l[3]=w=>P(f)?f.value=w:null),options:p,placeholder:"who ows you","display-key":"name","value-key":"id"},null,8,["modelValue"]),A(e("input",{"onUpdate:modelValue":l[4]||(l[4]=w=>P(r)?r.value=w:null),type:"number",placeholder:"how much",class:"bg-white flex-1 min-w-[100px] outline-none px-3 py-2 border rounded-lg transition-all duration-200 focus-within:ring-2 focus-within:ring-[#a65330] focus-within:border-[#a65330]"},null,512),[[Y,i(r)]]),A(e("textarea",{"onUpdate:modelValue":l[5]||(l[5]=w=>P(n)?n.value=w:null),name:"what used for",placeholder:"what was that for",class:"bg-white relative focus:outline-none flex items-center px-3 py-2 border-none rounded-lg transition-all duration-200 focus-within:ring-2 focus-within:ring-[#a65330] focus-within:border-[#a65330]"},null,512),[[Y,i(n)]])])):(g(),y("div",gs,[i(c)?(g(),y("div",vs,"Loading debts...")):i(m).length===0?(g(),y("div",bs,"No debts found.")):(g(),y("ul",ys,[(g(!0),y(V,null,O(i(m),w=>(g(),y("li",{key:w.id,class:"bg-white p-3 rounded-lg shadow border"},[e("p",xs,j(w.name)+" → "+j(w.ownedUser),1),e("p",null,"💸 "+j(w.debt)+" | "+j(w.symbol),1),e("p",null,"🗒️ "+j(w.definition||"No description"),1),e("p",hs,"🕒 "+j(new Date(w.createdAt).toLocaleString("uz-UZ")),1)]))),128))]))]))]))]),_:1})]),e("div",ws,[I(T,{color:"transparent",size:"small"},{default:ee(()=>l[8]||(l[8]=[W("Cancel")])),_:1,__:[8]}),i(o)==="Set"?(g(),y("div",_s,[I(T,{color:"default",size:"small",onClick:l[6]||(l[6]=w=>d("sub"))},{default:ee(()=>l[9]||(l[9]=[W("Subtract")])),_:1,__:[9]}),I(T,{color:"default",size:"small",onClick:l[7]||(l[7]=w=>d("add"))},{default:ee(()=>l[10]||(l[10]=[W("Add")])),_:1,__:[10]})])):(g(),y("div",ks,"no button for now"))])])])}}}),Ds={class:"text-lg font-semibold"},Ss={class:"flex items-center space-x-2"},Ms={class:"text-xs text-white font-bold"},Cs={class:"bg-gray-100 rounded-b-lg overflow-auto p-4 h-[100%]"},Ts={key:1,class:"p-6"},zs={class:"text-gray-600"},Is=F({__name:"Modal",props:{modalConfig:{},zIndex:{}},setup(s){const o={Music:Ct,Timer:Wt,ToDoList:Oo,Settings:os,Feedback:rs,Debt:$s},r=s,{closeModal:n,minimizeModal:a,updateModalPosition:f,bringToFront:m}=Z(),c=$(),p=$(),d=$(r.modalConfig.position),v=$(!1),l=$({x:0,y:0});le(()=>r.modalConfig.position,u=>{d.value=u},{deep:!0});const x=u=>{v.value=!0,l.value={x:u.clientX-d.value.x,y:u.clientY-d.value.y},document.addEventListener("mousemove",T),document.addEventListener("mouseup",w),u.preventDefault()},T=u=>{if(!v.value||!c.value||!p.value)return;const h=c.value.offsetWidth,M=p.value.offsetHeight;let B=u.clientX-l.value.x,E=u.clientY-l.value.y;const Q=window.innerWidth-h,D=window.innerHeight-M;B=Math.min(Math.max(0,B),Q),E=Math.min(Math.max(0,E),D);const t={x:B,y:E};d.value=t,f(r.modalConfig.id,t)},w=()=>{v.value=!1,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",w)},z=u=>{n(u)},U=()=>{a(r.modalConfig.id)},_=()=>{m(r.modalConfig.id)};return ve(()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",w)}),(u,h)=>u.modalConfig.isOpen?(g(),y("div",{key:0,class:"fixed inset-0 pointer-events-none",style:ie({zIndex:u.zIndex})},[e("div",{ref_key:"modalRef",ref:c,class:q(["absolute bg-white rounded-lg shadow-xl pointer-events-auto min-h-2 max-h-[600px]",{"w-100":!u.modalConfig.isMinimized,"w-64":u.modalConfig.isMinimized}]),style:ie({transform:`translate(${i(d).x}px, ${i(d).y}px)`,left:"50%",top:"50%",marginLeft:"-50%",marginTop:"-25%"}),onMousedown:_},[e("div",{ref_key:"headerRef",ref:p,class:"bg-[#2f2010] text-white px-4 py-3 rounded-t-lg cursor-move select-none flex items-center justify-between",onMousedown:x},[e("h2",Ds,j(u.modalConfig.title),1),e("div",Ss,[e("button",{class:"cursor-pointer w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center hover:bg-yellow-600 transition-colors",onClick:U},[e("span",Ms,j(u.modalConfig.isMinimized?"+":"−"),1)]),e("button",{class:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600 transition-colors cursor-pointer",onClick:h[0]||(h[0]=M=>z(u.modalConfig.id))},h[1]||(h[1]=[e("span",{class:"text-xs text-white font-bold"},"X",-1)]))])],544),A(e("div",Cs,[o[u.modalConfig.component]?(g(),J(Le(o[u.modalConfig.component]),{key:0,"modal-config":u.modalConfig},null,8,["modal-config"])):(g(),y("div",Ts,[e("p",zs,j(u.modalConfig.title)+" content goes here",1)]))],512),[[oe,!u.modalConfig.isMinimized]])],38)],4)):X("",!0)}}),js={key:0,class:"circle"},Us={key:1},Ls={class:"h-screen w-full flex flex-col p-4 md:p-5 lg:p-6 pb-0"},As=F({__name:"index",setup(s){const{getOpenModals:o}=Z(),{backgroundStyle:r}=$e(),n=$(!0);return G(()=>{setTimeout(()=>{n.value=!1},4750)}),(a,f)=>{const m=mt,c=yt,p=Is;return i(n)?(g(),y("div",js,f[0]||(f[0]=[e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1),e("div",{class:"final"},null,-1)]))):(g(),y("div",Us,[e("div",{class:"fixed inset-0 w-full h-full -z-20 transition-all duration-500",style:ie(i(r))},null,4),e("div",Ls,[I(m),I(c),(g(!0),y(V,null,O(i(o),(d,v)=>(g(),J(p,{key:d.id,"modal-config":d,"z-index":100+v},null,8,["modal-config","z-index"]))),128))])]))}}});export{As as default};
